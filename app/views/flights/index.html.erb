<%= form_for :flight, method: :get do |f| %>
  Departing: 
  <%= f.collection_select :departing_id, Airport.all, :id, :code %>
  
  Destination:
  <%= f.collection_select :arriving_id, Airport.all, :id, :code %>

  Passengers:
  <%= f.select(:passengers, 1..4) %>

  <%#Date:
  <%= f.collection_select :date, Flight.select(:date).distinct, :id, :date %>

  Date:
  <%= f.select(:date, options_from_collection_for_select(Flight.select(:date).order(:date).distinct, :date, :flight_date_formatted)) %>

  <%= f.submit "Find a flight" %>
<% end %>

<% if @chosen_flight %>
  <% @chosen_flight.each do |f| %>
    <%= f.departing_id %>
    <%= f.arriving_id %>
    <%= f.date.to_s %>
  <% end %>
<% else %>
  <%= @message %>
<% end %>